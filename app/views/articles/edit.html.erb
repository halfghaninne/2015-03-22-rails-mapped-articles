Edit Article:

<%= form_for @article do |f| %>
	<%= f.label "title", "Title:" %>
    <%= f.text_field("title") %><br>
	<%= f.label "author", "Author:" %>
	<%= f.collection_select(:author_id, Author.all, :id, :name, :prompt => true)%><br>
    <%= f.label "body", "Article Text:" %><br>
    <%= f.text_area("body") %><br><br>
	<%= f.label "article[location_ids][]", "Locations in this Article:" %><br>
<% @article.locations.each do |location| %>
	<%= f.collection_select(:location_ids, Location.all, :id, :custom_alias, {:selected => location.id }, {:name => "article[location_ids][]"})%><br>
<% end %><br>
	<%= f.fields_for :locations do |nest| %>
		<%= render 'shared/locations_form', f: nest %>
	<% end %>
	<%= f.hidden_field(:published, value: true)%>
    <%= f.submit "Publish" %>
<% end %>